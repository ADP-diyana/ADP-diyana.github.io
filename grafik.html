<html>
  <head>
    <title>Grafik</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" name="javascript, portfolio, jobs, frontend, web, code" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <script>
      function hitungPenjualan() {
        var namaBarang = document.getElementById("namaBarang").value;
        var stokAwal = parseFloat(document.getElementById("stokAwal").value);
        var terjual = parseFloat(document.getElementById("terjual").value);
        var stokAkhir = stokAwal - terjual;
        var dataPenjualan = {
          "Stok Awal": stokAwal,
          Terjual: terjual,
          "Stok Akhir": stokAkhir,
        };
        buatGrafik(dataPenjualan, namaBarang);
        return false;
      }

      function buatGrafik(data, namaBarang) {
        var ctx = document.getElementById("myChart").getContext("2d");
        var myChart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: Object.keys(data),
            datasets: [
              {
                label: namaBarang,
                data: Object.values(data),
                backgroundColor: ["rgba(255,0,255,0.2)", "rgba(0,255,0,0.2)", "rgba(0,0,255,0.2)"],
                borderColor: ["rgba(0,0,0,1)", "rgba(0,0,0,1)", "rgba(0,0,0,1)"],
                borderWidth: 1,
              },
            ],
          },
          options: {
            scales: { y: { begineAtZero: true } },
          },
        });
      }
    </script>
    <body>
      <center>
        <div style="width: 50%; margin-top: 20px">
          <canvas id="myChart"></canvas>
        </div>
        <div style="width: 50%">
          <form onsubmit="return hitungPenjualan()">
            <br /><input placeholder="Nama Barang" class="form-control" id="namaBarang" /> <br /><input placeholder="Stok Awal" class="form-control" id="stokAwal" /> <br /><input placeholder="Terjual" class="form-control" id="terjual" />
            <br /><input type="submit" class="btn btn-info" />
          </form>
        </div>
      </center>
    </body>
  </head>
</html>
